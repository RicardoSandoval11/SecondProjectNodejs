extends ../layout/public

block content

    div(class="mt-8 mx-auto max-w-md flex items-center h-screen")
        if validCode
            div(class="bg-white m-auto w-full px-4 shadow rounded-sm animate__animated animate__fadeIn animate__faster")
                if errors 
                    div(class="max-w-md mx-auto my-4")
                        each error in errors 
                            p(class="bg-red-600 text-white uppercase text-xs text-center p-2 mb-1 font-bold")= error.msg

                h2(class="text-center text-xl font-extrabold") Update your password
                form(method="POST", action="/auth/update-password")
                    input(
                        type="hidden",
                        value=csrfToken,
                        name="_csrf"
                    )
                    input(
                        type="hidden",
                        value=token,
                        name="token"
                    )
                    div
                        label(class="block text-sm uppercase text-gray-500 my-3 font-bold" for="code") New password
                        input(
                            class="w-full px-3 py-2 border border-gray-300 rounded-sm placeholder-gray-400"
                            id="password"
                            placeholder="Password"
                            type="password"
                            name="password"  
                        )
                    div
                        label(class="block text-sm uppercase text-gray-500 my-3 font-bold" for="code") Confirm password
                        input(
                            class="w-full px-3 py-2 border border-gray-300 rounded-sm placeholder-gray-400"
                            id="confirm_password"
                            placeholder="Confirm password"
                            type="password"
                            name="confirm_password"  
                        )
                    input(
                        type="submit"
                        value="Update password"
                        class="w-full bg-sky-500 hover:bg-sky-700 text-white font-bold py-3 cursor-pointer my-3"
                        )
        else 
            div(class="bg-white py-8 px-4 max-w-md mx-auto align-middle")
                p(class='bg-red-500').py-2.px-5.rounded-lg.w-full.font-bold.text-center.text-white.uppercase= message